<!DOCTYPE html>
<html>
    <head>
        <title>Sample page full of JS code for BIMD 233</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
 
        <!-- Bootstrap 4 includes: -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"></script>
        <!-- End Bootstrap 4 includes -->

        <style type="text/css">
            body {
                /*
                background: rgb(10, 7, 14);
                background-image: url("media/darkwood.jpg");
                background-attachment: fixed;
                background-repeat: no-repeat;
                color: #111111;
                */
            }
            /* Editing Bootstrap's default color of hover on dropdown menu item. */
            .navbar .dropdown-item:hover {
                background-color:gray;
            }
            /* I threw in some styles so you can more easily see the different rows that Bootstrap uses for its grid layout. And then I put in rounded corners because why not? */
            .row {
                margin: 10px;
                background: rgb(233, 233, 233);
                border-radius: 10px;
                padding: 10px;
            }
            .strikethrough {
                text-decoration: line-through;
            }
            #yay {
                color: purple;
                font-weight: 800;
            }
            .img-container {
                float: left;
                width: 33%;
                padding: 5px;
                opacity: 0.5;
                filter: alpha(opacity=50);
            }
            .img-container:hover {
                opacity: 1.0;
                filter: alpha(opacity=100);
            }
        </style>    
    </head>

    <body>
        <!-- Using Bootstrap's built-in navigation bar framework! The classes being used include speficications for how the bar should look, how it should respond to different window sizes, where it should be positioned, etc. -->
        <nav class="pl-md-5 navbar navbar-expand-md bg-dark navbar-dark fixed-top">
            <!-- Bootstrap's "brand" class where you can put in a logo or just some text... -->
            <a class="navbar-brand" href="https://markdangerchen.github.io/">BIMD 233 Web Design</a>
            <!-- The button below is to make it so that when the width of the browser window is too small, the menu doesn't appear all wonky and instead just collapses into a hamburger menu. -->
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#myNavbar">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="myNavbar">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link" href="index.html">Syllabus+Info</a></li>
                    <li class="nav-item"><a class="nav-link" href="assignments.html">Assignments</a></li>
                    <li class="nav-item"><a class="nav-link" href="resources.html">Resources</a></li>
                    <li class="nav-item active dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">Sample Pages</a>
                        <div class="dropdown-menu">
                            <a class="dropdown-item" href="samplehtml.html">Sample HTML</a>
                            <a class="dropdown-item" href="samplecss.html">Sample CSS</a>
                            <a class="dropdown-item" href="samplebootstrap.html">Sample Bootstrap</a>
                            <a class="dropdown-item" href="samplejs.html">Sample JS</a>
                        </div>
                    </li>
                </ul>
            </div>
        </nav>
    
        <!-- This is where the main content of the page starts. Bootstrap uses a grid system for layout, which is funny to me because it reminds me of using tables for layout back in the day... We sort of knew we shouldn't be using tables since, technically, tables are supposed to be used for tabulated data and now graphic design or page layout, but without really good alternatives before CSS, we did it anyway. I don't know the history of why Bootstrap uses grids, but in my head I like to pretent people got wise after CSS came out and decided that the grid layout of tables made a lot of sense... -->
        <div class="container" style="margin-top:70px;">

            <div class="row">
                <div class="col">
                    <h1>Sample Javascript Page</h1>

                    <p>This page started with the Sample Bootstrap Page and added a bunch of Javascript behaviors into it.</p>
                    
                    <p>The main purpose of this page is to give you examples of how to use different ways to edit the way a page's different elements react to user input. Most of the input has to do with mouse events that then tell the page to run some code. Since this course isn't about making websites that deal with data from some server but rather just the look and feel of pages, most of the reactions that we'll be doing are interface or visual effects. These serve to give users feedback and make the page feel responsive and like it acknowledges that the user has done something. With CSS, you could do some of this already with built-in event detectors like the <code>hover</code> state of a text element. And actually, we've cheated a little bit already with Bootstrap since it does already have some simple visual effects that use Javascript, like collapsing blocks of code (by toggling its visibility--and actually, technically, there's at least <a href="https://alligator.io/css/collapsible/">one way to collapse an element through pure CSS</a>...).</p>
                </div>
            </div>

            <div class="row">
                <div class="col">
                    <h2>Intro</h2>

                    <p>Javascript is an actual programming language where you define functions for the page to execute when something happens. Often when you want it to do something, you also want to throw in some conditional logic. For example, let's say your user clicks on a cell in a table that displays a calendar month, and you want some pop-up text to let the user know they clicked on the cell but you also want it to know whether the date is even or odd or if it is a weekend day rather than a weekday and intelligently display text in the pop-up depending on those conditions. If you didn't have Javascript, you'd have to define different class styles for each set of conditions and remember to make sure each cell has the right classes. Then you'd have to create a button in each cell or something and have the user click on the button for the pop-up to appear.</p>

                    <p>With Javascript, you could instead have one class defined for every cell in the table and then add in an <code>onclick</code> event to whatever element you want clickable. The code will then execute and identify what's in the cell to determine if it's an odd or even number and which day it is. Then it'll throw a pop-up and the text will be different depending on what it detected.</p>
                </div>
            </div>

            <div class="row">
                <div class="col">
                    <h2>Variables, Conditions, and Logic</h2>

                    <p>In order to do the above intelligent pop-up, the code needs to identify text that is different in each cell and then remember it when it spits out the pop-up box. This is done by defining a variable and setting it to some value, denpending on what was clicked.</p>

                    <p>The logic, in English, would be something like:</p>
                    <ol>
                        <li>Look for mouse clicks once the page has finished loading.</li>
                        <li>When a mouse click happens, figure out which part of the webpage was clicked.</li>
                        <li>Recognize that it was one of the cells in a calendar table.</li>
                        <li>Read the contents of the cell.</li>
                        <li>Store the contents into a variable to recall later.</li>
                        <li>Throw up a pop-up message.</li>
                        <li>Put in the message some text that's different depending on what it remembers from what was in the cell.</li>
                    </ol>
                    <p>Generally, you want to plan out your functionality this way for each bit of behavior that you want to program into the webpage. And, hey, that list of things to do is actually called a "function!"</p>

                    <p>This way of thinking, where each step is spelled out and is required for subsequent steps could be called a "logical flow," and being able to do this well extends way past programming. Good research and persuasive writing requires a logical flow of arguments to be convincing. Playing strategy games requires some understanding of conditions and consequences. Etc. This is why a lot of educational researchers say that coding should be taught in K12 schools. It's not so much that they want kids to be able to program stuff; the real benefit is to help kids be able to think formally and logically.</p>
                </div>
            </div>

            <div class="row">
                <div class="col">
                    <h2>Next Steps</h2>

                    <p>This page will have the example clickable calendar so you can look at the code; I'll try to put intelligible comments. There is soooo much to Javascript and programming, though, and it's much more complex and complicated than straight up HTML and CSS. I feel like the best way to learn would be follow a robust tutorial, so please confer the <a href="resources.html">Resources Page</a> and especially follow the <a href="https://www.w3schools.com/js/default.asp">Javascript tutorials at w3schools.com</a>. See the <a href="assignments.html">Assignments Page</a> for what you should try to understand and include in your work.</p>
                </div>
            </div>

            <div class="row">
                <div class="col">
                    <h2>Samples</h2>

                    <h3 id="monthAndYear"></h3>
                    <table class="table table-bordered table-responsive-sm" id="calendar">
                        <thead>
                        <tr>
                            <th>Sun</th>
                            <th>Mon</th>
                            <th>Tue</th>
                            <th>Wed</th>
                            <th>Thu</th>
                            <th>Fri</th>
                            <th>Sat</th>
                        </tr>
                        </thead>
            
                        <tbody id="calendar-body">
            
                        </tbody>
                    </table>
            
                </div>

            </div>
        </div>

        <script>
            /* The basic calendar is copied from here https://medium.com/@nitinpatel_20236/challenge-of-building-a-calendar-with-pure-javascript-a86f1303267d with some modifications and comments.

            Javascript is denoted with the script block and can be placed either in the head or the body. I tend to either put it all in the head or all at the bottom of the body (or actually put it in a separate file named whatever.js and link to it like you'd link a stylesheet). Note: It's safe to declare variables and define functions within the head, but any functions that you invoke within the script block will execute as the page is loaded, so if it's in the head tag and the function tries to manipulate stuff in the body, it might not work since technically the stuff in the body doesn't yet exist.

            There's a few ways to declare variables in JS. It used to be you would use the word "var" then the variable name to tell the script that you want to create a new variable, but, more recently, "let" was introduced to help developers scope their variables, and there's, as far as I can tell, very few cases where you'd want to use var instead of let now.
            
            So the next few lines define some variables for the script to use. Variables are like addresses or labels you want to use to name bits of information you want the script to remember. In the first case, we're creating the label "today" and then assigning it a value of today's date. The words "new Date()" is telling the script to run a built-in function that returns the current date. It's like asking "What's today's date?" and it "returns" or responds with today's current date.
            
            The other variables are other built-in functions that are based off the date. "today.getMonth()" for example runs the function "getMonth()" on the variable that we set with "today." Since we just set today to the current date, the getMonth function can tell us the current month. */
            let today = new Date();
            let currentMonth = today.getMonth();
            let currentYear = today.getFullYear();

            /* The variable "months" here is being set to what's called an "array." It's like taking a group of data and clumping them together and giving them one name, sort of like how the variable "The Beatles" references John, Paul, George, and Ringo. What's neat about arrays is that the variable also remembers which order you put the items in, so you can later refer to specific items in the array by position. */
            let months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];

            /* The monthAndYear variable next is using Javascript's way of identifying an HTML element (aka tag) by referencing whatever CSS id you've given a particular element. This identification then lets you manipulate the text within the tag. In other words, if you look through the HTML, you'll eventually find something with the id "monthAndYear." Whatever HTML element has that id will get returned by the "getElementById("monthAndYear") function and then stored in a variable also called "monthAndYear." In this case, it's a h3 tag that we're using as the label for the calendar. The word "document" is sort of like a built-in variable that references the current HTML page you're working on. */
            let monthAndYear = document.getElementById("monthAndYear");

            /* The next line tells the script that you're going to define a function or a command you want it to execute whenever you invoke a keyword or name that you're giving the function. In this case, we're giving the function the name "showCalendar." The "(month, year)" part tells the script to expect us to provide those two bits of info when we tell it to execute showCalendar. */
            function showCalendar(month, year) {

                let firstDay = (new Date(year, month)).getDay();
                let daysInMonth = 32 - new Date(year, month, 32).getDate();

                let tbl = document.getElementById("calendar-body"); // body of the calendar

                // clearing all previous cells
                tbl.innerHTML = "";

                // filling data about month and year in the page via DOM.
                monthAndYear.innerHTML = months[month] + " " + year;

                // creating all cells
                let date = 1;
                for (let i = 0; i < 6; i++) {
                    // creates a table row
                    let row = document.createElement("tr");

                    //creating individual cells, filing them up with data.
                    for (let j = 0; j < 7; j++) {
                        if (i === 0 && j < firstDay) {
                            let cell = document.createElement("td");
                            let cellText = document.createTextNode("");
                            cell.appendChild(cellText);
                            row.appendChild(cell);
                        }
                        else if (date > daysInMonth) {
                            break;
                        }

                        else {
                            let cell = document.createElement("td");
                            let cellText = document.createTextNode(date);
                            if (date === today.getDate() && year === today.getFullYear() && month === today.getMonth()) {
                                cell.classList.add("bg-info");
                            } // color today's date
                            cell.appendChild(cellText);
                            row.appendChild(cell);
                            date++;
                        }


                    }

                    tbl.appendChild(row); // appending each row into calendar body.
                }

            }

            /* Finally, after declaring variables and functions, let's execute the function so that the table that will be the calendar is drawn onto the page. */
            showCalendar(currentMonth, currentYear);

        </script>
    </body>
</html>